PageBlocks.window.CreateTable=function(e){(e=e||{}).id||(e.id="pb-table-window-create"),Ext.applyIf(e,{title:_("pb_row_create"),action:"mgr/table/create"}),PageBlocks.window.CreateTable.superclass.constructor.call(this,e)},Ext.extend(PageBlocks.window.CreateTable,PageBlocks.window.Default,{getFields:function(e){return[{xtype:"hidden",name:"id",id:e.id+"-id"},{xtype:"textfield",fieldLabel:_("pb_table_name"),name:"name",id:e.id+"-name",anchor:"99%",allowBlank:!1},{xtype:"modx-tabs",defaults:{border:!1,autoHeight:!0},id:Ext.id(),items:[{title:_("pb_fields"),layout:"anchor",items:[{xtype:"pb-grid-fields",id:Ext.id(),model_type:"pbTable",model_id:e.record?e.record.id:0,baseParams:{action:"mgr/field/getlist",model_type:"pbTable",model_id:e.record?e.record.id:0,sort:"menuindex",dir:"asc"}}]},{title:_("pb_tabs"),layout:"anchor",items:[{xtype:"pb-grid-tabs",model_type:"pbTable",model_id:e.record?e.record.id:0,clearBtnCls:"x-form-trigger",baseParams:{action:"mgr/tab/getlist",model_type:"pbTable",model_id:e.record?e.record.id:0,sort:"menuindex",dir:"asc"}}]},{title:_("pb_table_columns"),layout:"anchor",items:[{xtype:"pb-grid-column",id:Ext.id(),model_type:"pbTable",model_id:e.record?e.record.id:0}]}]}]}}),Ext.reg("pb-table-window-create",PageBlocks.window.CreateTable),PageBlocks.window.UpdateTable=function(e){(e=e||{}).id||(e.id="pb-table-window-update"),Ext.applyIf(e,{title:_("pb_row_update")+": "+e.record.name,action:"mgr/table/update"}),PageBlocks.window.UpdateTable.superclass.constructor.call(this,e)},Ext.extend(PageBlocks.window.UpdateTable,PageBlocks.window.CreateTable),Ext.reg("pb-table-window-update",PageBlocks.window.UpdateTable);